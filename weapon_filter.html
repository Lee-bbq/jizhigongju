<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>武器筛选器</title>
    <style>
*{margin:0;padding:0;box-sizing:border-box}body{font-family:'Segoe UI',Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);min-height:100vh;color:#fff;padding:20px}.container{max-width:1400px;margin:0 auto}header{text-align:center;border-bottom:2px solid #4a9eff;margin-bottom:20px}h1{font-size:2.5em;background:linear-gradient(90deg,#4a9eff,#ff6b9d);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;text-shadow:0 0 30px rgba(74,158,255,0.3)}.filter-section {display:flex;flex-direction:column;gap:10px;margin-bottom:15px;}.main-filter-card {grid-column: 1 / -1;}.secondary-row {display:grid;grid-template-columns:1fr 1fr;gap:25px;}@media (max-width:768px) {.secondary-row {grid-template-columns:1fr;}}.filter-card{background:rgba(255,255,255,0.05);border-radius:15px;padding:15px 25px 20px 25px;backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,0.1);transition:all 0.3s ease}.filter-card:hover{transform:translateY(-5px);box-shadow:0 10px 40px rgba(74,158,255,0.2);border-color:rgba(74,158,255,0.3)}.filter-title{font-size:1.3em;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,0.1);display:flex;justify-content:space-between;align-items:center}.badge{font-size:0.75em;padding:4px 12px;border-radius:20px;background:rgba(74,158,255,0.2);color:#4a9eff}.main-attrs{display:flex;flex-wrap:wrap;gap:20px;justify-content: center;}.option-btn{padding:10px 18px;border:2px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05);color:#fff;border-radius:8px;cursor:pointer;transition:all 0.3s ease;font-size:0.95em}.option-btn:hover:not(:disabled){border-color:#4a9eff;background:rgba(74,158,255,0.1)}.option-btn.selected{border-color:#4a9eff;background:rgba(74,158,255,0.2);box-shadow:0 0 15px rgba(74,158,255,0.3)}.option-btn:disabled{opacity:0.4;cursor:not-allowed}.option-btn:disabled:hover{border-color:rgba(255,255,255,0.2);background:rgba(255,255,255,0.05)}.secondary-title{font-size:1.1em;margin-bottom:15px;color:#aaa;display:flex;justify-content:space-between;align-items:center}.secondary-title::before{content:'';width:4px;height:18px;background:linear-gradient(180deg,#ff6b9d,#c44dff);border-radius:2px}.secondary-badge{font-size:0.75em;padding:4px 12px;border-radius:20px;background:rgba(255,107,157,0.2);color:#ff6b9d}.skill-badge{font-size:0.75em;padding:4px 12px;border-radius:20px;background:rgba(196,77,255,0.2);color:#c44dff}.secondary-options{display:flex;flex-wrap:wrap;gap:10px}.secondary-options .option-btn{border-color:rgba(255,107,157,0.3)}.secondary-options .option-btn:hover:not(:disabled){border-color:#ff6b9d;background:rgba(255,107,157,0.1)}.secondary-options .option-btn.selected{border-color:#ff6b9d;background:rgba(255,107,157,0.2);box-shadow:0 0 15px rgba(255,107,157,0.3)}.skill-options{display:flex;flex-wrap:wrap;gap:10px}.skill-options .option-btn{border-color:rgba(196,77,255,0.3)}.skill-options .option-btn:hover:not(:disabled){border-color:#c44dff;background:rgba(196,77,255,0.1)}.skill-options .option-btn.selected{border-color:#c44dff;background:rgba(196,77,255,0.2);box-shadow:0 0 15px rgba(196,77,255,0.3)}.section-disabled{opacity:0.4;pointer-events:none}.results-header{display:flex;flex-direction:column;gap:20px;margin-bottom:25px;padding:20px;background:rgba(255,255,255,0.05);border-radius:12px}.star-filter-row{display:flex;align-items:center;gap:15px;flex-wrap:wrap}.star-filter-title{font-size:1.1em;color:#aaa;min-width:90px}.star-filter-options{display:flex;flex-wrap:wrap;gap:10px}.star-filter-options .option-btn{min-width:80px}#starFilter .option-btn:nth-child(1){border-color:rgba(255,165,0,0.6)}#starFilter .option-btn:nth-child(1):hover:not(:disabled){border-color:#ff9500;background:rgba(255,165,0,0.1)}#starFilter .option-btn:nth-child(1).selected{border-color:#ff9500;background:rgba(255,165,0,0.2);box-shadow:0 0 15px rgba(255,165,0,0.4)}#starFilter .option-btn:nth-child(2){border-color:rgba(255,215,0,0.3)}#starFilter .option-btn:nth-child(2):hover:not(:disabled){border-color:#ffd700;background:rgba(255,215,0,0.1)}#starFilter .option-btn:nth-child(2).selected{border-color:#ffd700;background:rgba(255,215,0,0.2);box-shadow:0 0 15px rgba(255,215,0,0.3)}#categoryFilter .option-btn{border-color:rgba(74,158,255,0.3);min-width:80px}#categoryFilter .option-btn:hover:not(:disabled){border-color:#4a9eff;background:rgba(74,158,255,0.1)}#categoryFilter .option-btn.selected{border-color:#4a9eff;background:rgba(74,158,255,0.2);box-shadow:0 0 15px rgba(74,158,255,0.3)}#regionFilter .option-btn{border-color:rgba(74,158,255,0.3);min-width:80px}#regionFilter .option-btn:hover:not(:disabled){border-color:#4a9eff;background:rgba(74,158,255,0.1)}#regionFilter .option-btn.selected{border-color:#4a9eff;background:rgba(74,158,255,0.2);box-shadow:0 0 15px rgba(74,158,255,0.3)}.results-count-row{display:flex;justify-content:space-between;align-items:center;border-top:1px solid rgba(255,255,255,0.1);padding-top:20px}.search-mode-row{display:flex;align-items:center;padding:15px;background:rgba(255,107,157,0.1);border-radius:10px;border:1px solid rgba(255,107,157,0.3);margin-bottom:15px}.search-input-container{flex:1;margin-left:20px}.search-input{width:100%;padding:10px 15px;border:2px solid rgba(255,255,255,0.2);background:rgba(255,255,255,0.05);color:#fff;border-radius:8px;font-size:1em;outline:none;transition:all 0.3s ease}.search-input:focus{border-color:#ff6b9d;box-shadow:0 0 10px rgba(255,107,157,0.3)}.search-input::placeholder{color:rgba(255,255,255,0.5)}.switch-label{display:flex;align-items:center;cursor:pointer;user-select:none}.switch-input{display:none}.switch-slider{width:50px;height:26px;background:rgba(255,255,255,0.2);border-radius:13px;position:relative;transition:all 0.3s ease;margin-right:15px}.switch-slider::before{content:'';position:absolute;width:22px;height:22px;background:#fff;border-radius:50%;top:2px;left:2px;transition:all 0.3s ease}.switch-input:checked + .switch-slider{background:linear-gradient(90deg,#ff6b9d,#c44dff)}.switch-input:checked + .switch-slider::before{transform:translateX(24px)}.switch-text{font-size:1.1em;color:#ff6b9d;font-weight:bold}.results-count{font-size:1.2em}.results-count .number{color:#4a9eff;font-weight:bold;font-size:1.3em}.reset-btn{padding:12px 25px;border:2px solid #ff6b9d;background:rgba(255,107,157,0.1);color:#ff6b9d;border-radius:8px;cursor:pointer;transition:all 0.3s ease;font-size:1em}.reset-btn:hover{background:#ff6b9d;color:#fff;transform:translateY(-2px);box-shadow:0 5px 20px rgba(255,107,157,0.4)}.results-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:25px}.weapon-card.star-6{border-color:rgba(255,165,0,0.6);box-shadow:0 0 20px rgba(255,165,0,0.2)}.weapon-card.star-6:hover{transform:translateY(-8px);border-color:rgba(255,165,0,1);box-shadow:0 0 30px rgba(255,165,0,0.4)}.weapon-card.star-5{border-color:rgba(255,215,0,0.6);box-shadow:0 0 20px rgba(255,215,0,0.2)}.weapon-card.star-5:hover{transform:translateY(-8px);border-color:rgba(255,215,0,1);box-shadow:0 0 30px rgba(255,215,0,0.4)}.weapon-card::before{content:'';position:absolute;top:0;left:0;right:0;height:3px;background:linear-gradient(90deg,#4a9eff,#ff6b9d,#c44dff);transform:scaleX(0);transition:transform 0.3s ease}.weapon-card:hover::before{transform:scaleX(1)}.category-badge{font-size:0.6em;color:#aaa;background:rgba(255,255,255,0.1);padding:4px 10px;border-radius:12px;vertical-align:middle}.attr-row:hover{font-weight: bold;}.attr-row{display:flex;align-items:flex-start;gap:8px;cursor:pointer;padding: 5px 0px;}.attr-label{color:#888;font-size:0.9em;min-width:70px}.attr-values{color:#ddd;font-size:0.95em}.no-results{text-align:center;padding:60px 20px;background:rgba(255,255,255,0.03);border-radius:15px;border:2px dashed rgba(255,255,255,0.1)}.no-results .icon{font-size:4em;margin-bottom:20px;opacity:0.5}.no-results .text{font-size:1.2em;color:#888}.version-info{text-align:center;padding:30px 0;color:#666;font-size:0.95em;border-top:1px solid rgba(255,255,255,0.1);margin-top:50px}@media (max-width:768px) {h1{font-size:1.8em}.filter-section{grid-template-columns:1fr}.results-grid{grid-template-columns:1fr}.star-filter-row{flex-direction:column;align-items:flex-start;gap:10px}.star-filter-title{min-width:auto;margin-bottom:5px}.option-btn{padding:8px 14px;font-size:0.9em;min-width:auto}.search-mode-row{flex-direction:column;gap:15px;padding:15px}.search-input-container{margin-left:0;width:100%}.filter-card{padding:20px}.weapon-card{padding:15px}.weapon-name .weapon-category{font-size:1.2em}.usage-instruction{padding:20px;margin:20px 0}.usage-instruction h3{font-size:1.1em}.usage-instruction li{font-size:0.9em}}.usage-instruction{background:rgba(255,255,255,0.03);border-radius:15px;padding:25px;margin:30px 0;border:1px solid rgba(255,255,255,0.1)}.usage-instruction h3{font-size:1.3em;color:#4a9eff;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid rgba(255,255,255,0.1)}.usage-instruction ul{margin-left:20px;line-height:1.8}.usage-instruction li{color:#aaa;margin-bottom:10px}.usage-instruction li:last-child{margin-bottom:0}.weapon-card {background:rgba(255,255,255,0.05);border-radius:15px;padding:20px;border:2px solid rgba(255,255,255,0.1);transition:all 0.3s ease;position:relative;overflow:hidden;display:flex;flex-direction:column;}.weapon-card-header {display:flex;gap:20px;align-items:flex-start;cursor:pointer;padding-bottom:5px;}.weapon-image {width:30%;height:100%;background:rgba(0,0,0,0.3);border-radius:10px;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;flex-shrink:0;}.weapon-image img {width:100%;height:100%;object-fit:contain;transition:transform 0.3s ease;}.weapon-header-info {flex:1;display:flex;flex-direction:column;}.weapon-name {font-size:1.4em;color:#4a9eff;margin-bottom:10px;}.weapon-attrs {display:flex;flex-direction:column;}.weapon-card:hover .weapon-image img {transform:scale(1.05);}
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>⚔️ 武器筛选器</h1>
        </header>

        <!-- 检索模式开关 -->
        <div class="search-mode-row">
            <label class="switch-label">
                <input type="checkbox" id="searchModeSwitch" class="switch-input" onchange="toggleSearchMode()">
                <span class="switch-slider"></span>
                <span class="switch-text">刻写</span>
            </label>
            <!-- 检索模式下的搜索框 -->
            <div class="search-input-container" id="searchInputContainer">
                <input type="text" id="searchInput" class="search-input" placeholder="输入武器名称搜索..." oninput="handleSearchInput()">
            </div>
        </div>

        <div class="filter-section">
            <!-- 第一行：基础属性单独一行 -->
            <div class="filter-card main-filter-card">
                <div class="secondary-title">
                    <span>基础属性</span>
                    <span class="badge" id="mainBadge">已选 0/3</span>
                </div>
                <div class="main-attrs" id="mainAttrs"></div>
            </div>

            <!-- 第二行：附加属性和技能属性左右布局 -->
            <div class="secondary-row">
                <div class="filter-card"  id="secondaryFilter">
                <div class="secondary-title">
                    <span>附加属性</span>
                    <span class="secondary-badge" id="secondaryBadge">已选 0/1</span>
                </div>
                <div class="secondary-options" id="secondaryAttrs"></div>
            </div>

            <div class="filter-card">
                <div class="secondary-title"  id="skillFilter">
                    <span>技能属性</span>
                    <span class="skill-badge" id="skillBadge">已选 0/1</span>
                </div>
                <div class="secondary-options skill-options" id="skillAttrs"></div>
            </div>
        </div>
    </div>

        <!-- 筛选结果 -->
        <div class="results-header">
            <!-- 淤积点筛选 -->
            <div class="star-filter-row">
                <div class="star-filter-title">淤积点：</div>
                <div class="star-filter-options" id="regionFilter"></div>
            </div>

            <!-- 武器类别筛选 -->
            <div class="star-filter-row" style="display:none;">
                <div class="star-filter-title">武器类别：</div>
                <div class="star-filter-options" id="categoryFilter"></div>
            </div> 
            
            <!-- 星级筛选 -->
            <div class="star-filter-row">
                <div class="star-filter-title">星级：</div>
                <div class="star-filter-options" id="starFilter"></div>
            </div>
            
            <div class="results-count-row">
                <div class="results-count">
                    找到 <span class="number" id="resultCount">0</span> 把武器
                </div>
                <button class="reset-btn" onclick="resetFilters()">重置筛选</button>
            </div>
        </div>

        <div class="results-grid" id="resultsGrid"></div>
        
        <div class="usage-instruction">
            <h3>刻写模式使用说明</h3>
            <ul>
                <li>选三个基础属性</li>
                <li>选一个附加属性或技能属性</li>
                <li>选一个淤积点</li>
            </ul>
        </div>
        
        <div class="version-info">游戏版本：公测<br/>森空岛 <a href="https://wiki.skland.com/endfield/catalog?typeMainId=1&typeSubId=2" onclick="window.open(this.href); return false;">WIKI</a><br/>bilibili up <a href="https://space.bilibili.com/1893060527" onclick="window.open(this.href); return false;">辣椒酱</a></div>

    </div>

    <script>
var weapons=[{"id":47,"name":"使命必达","stars":6,"category":"施术单元","mainAttrs":["意志"],"secondaryAttrs":["终结技充能效率"],"skillAttrs":["追袭"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/33f54d8479db132681da1a26e789e5e4.png"},
{"id":46,"name":"熔铸火焰","stars":6,"category":"单手剑","mainAttrs":["智识"],"secondaryAttrs":["攻击"],"skillAttrs":["夜幕"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/6dd00511c917b81b8ab861d989c38499.png"},
{"id":45,"name":"艺术暴君","stars":6,"category":"手铳","mainAttrs":["智识"],"secondaryAttrs":["暴击率"],"skillAttrs":["切骨"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/e87e7164507ab8320f55a37d9cd0b912.png"},
{"id":44,"name":"黯色火炬","stars":6,"category":"单手剑","mainAttrs":["智识"],"secondaryAttrs":["灼热伤害"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/12/179550/7c4e1b316266660c8007616b6489dfbf.png"},
{"id":43,"name":"领航者","stars":6,"category":"手铳","mainAttrs":["智识"],"secondaryAttrs":["寒冷伤害"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/a751ba17838d2cd68212fcbd2abef03a.png"},
{"id":42,"name":"作品：蚀迹","stars":6,"category":"施术单元","mainAttrs":["意志"],"secondaryAttrs":["自然伤害"],"skillAttrs":["压制"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/a5f649f205935deedc20519b2c4a01d1.png"},
{"id":41,"name":"骑士精神","stars":6,"category":"施术单元","mainAttrs":["意志"],"secondaryAttrs":["生命"],"skillAttrs":["医疗"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/869d470dc10a2af0e6a621b39d3b3ab1.png"},
{"id":40,"name":"遗忘","stars":6,"category":"施术单元","mainAttrs":["智识"],"secondaryAttrs":["法术伤害"],"skillAttrs":["夜幕"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/edd2eec2a1f0d2013ea19b46c7071e77.png"},
{"id":39,"name":"爆破单元","stars":6,"category":"施术单元","mainAttrs":["主能力值"],"secondaryAttrs":["源石技艺"],"skillAttrs":["迸发"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/7a7e262d7b9c9dbebc425f814652e523.png"},
{"id":38,"name":"沧溟星梦","stars":6,"category":"施术单元","mainAttrs":["智识"],"secondaryAttrs":["治疗效率"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/c5954f91e2fa0bbd04313be756397517.png"},
{"id":37,"name":"同类相食","stars":6,"category":"手铳","mainAttrs":["主能力值"],"secondaryAttrs":["法术伤害"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/2e6153849394395e153c89865f218865.png"},
{"id":36,"name":"楔子","stars":6,"category":"手铳","mainAttrs":["主能力值"],"secondaryAttrs":["暴击率"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/9d3d49afa38e95a4312ba67ee7011099.png"},
{"id":35,"name":"J.E.T.","stars":6,"category":"长柄武器","mainAttrs":["主能力值"],"secondaryAttrs":["攻击"],"skillAttrs":["压制"],image:"https://bbs.hycdn.cn/image/2025/12/15/4898765/7e5f873680aea8908ca12bea1f88f233.png"},
{"id":34,"name":"骁勇","stars":6,"category":"长柄武器","mainAttrs":["敏捷"],"secondaryAttrs":["物理伤害"],"skillAttrs":["巧技"],image:"https://bbs.hycdn.cn/image/2025/12/15/4898765/e6b4da88f47fbfda7ac46bcec90983f0.png"},
{"id":33,"name":"负山","stars":6,"category":"长柄武器","mainAttrs":["敏捷"],"secondaryAttrs":["物理伤害"],"skillAttrs":["效益"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/d5503c032da62c81e59174a211fc4b8a.png"},
{"id":32,"name":"破碎君王","stars":6,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["暴击率"],"skillAttrs":["粉碎"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/feaae1e0d1db1d53431c658fbafcd274.png"},
{"id":31,"name":"昔日精品","stars":6,"category":"双手剑","mainAttrs":["意志"],"secondaryAttrs":["生命"],"skillAttrs":["效益"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/acd8b54f5cf3441a9841cf301b62f4c9.png"},
{"id":30,"name":"典范","stars":6,"category":"双手剑","mainAttrs":["主能力值"],"secondaryAttrs":["攻击"],"skillAttrs":["压制"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/b02d06c63dc04f7c3168692f8ee89f60.png"},
{"id":29,"name":"赫拉芬格","stars":6,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["攻击"],"skillAttrs":["迸发"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/8cd139e939fad8c1888e8e3257b9d738.png"},
{"id":28,"name":"大雷斑","stars":6,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["生命"],"skillAttrs":["医疗"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/1387fa14d4f6b3f85b1225aaa7579f5b.png"},
{"id":27,"name":"白夜新星","stars":6,"category":"单手剑","mainAttrs":["主能力值"],"secondaryAttrs":["源石技艺"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/d02d5b2db466fabbf7af4b50e3bd8193.png"},
{"id":26,"name":"显赫声名","stars":6,"category":"单手剑","mainAttrs":["主能力值"],"secondaryAttrs":["物理伤害"],"skillAttrs":["残暴"],image:"https://bbs.hycdn.cn/image/2025/12/12/179550/16b0d5d71f64378df2c0e6b7a23a6fde.png"},
{"id":25,"name":"热熔切割器","stars":6,"category":"单手剑","mainAttrs":["意志"],"secondaryAttrs":["攻击"],"skillAttrs":["流转"],image:"https://bbs.hycdn.cn/image/2025/12/12/179550/d05172004f474a38ff4c861b570751d4.png"},
{"id":24,"name":"扶摇","stars":6,"category":"单手剑","mainAttrs":["主能力值"],"secondaryAttrs":["暴击率"],"skillAttrs":["夜幕"],image:"https://bbs.hycdn.cn/image/2025/12/12/179550/a9fc3999c4d382f13ae49c188f6af9fe.png"},
{"id":23,"name":"不知归","stars":6,"category":"单手剑","mainAttrs":["意志"],"secondaryAttrs":["攻击"],"skillAttrs":["流转"],image:"https://bbs.hycdn.cn/image/2025/12/12/179550/534d76101624b41e6f48f2c8e88103d9.png"},
{"id":22,"name":"宏愿","stars":6,"category":"单手剑","mainAttrs":["敏捷"],"secondaryAttrs":["攻击"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/15/4898765/10a946a1f8349176f208d5c63789d6b2.png"},
{"id":21,"name":"O.B.J.术识","stars":5,"category":"施术单元","mainAttrs":["智识"],"secondaryAttrs":["源石技艺"],"skillAttrs":["追袭"],image:"https://bbs.hycdn.cn/image/2025/12/19/4898765/3e9952da09935cc8e6b2adc333dd6b38.png"},
{"id":20,"name":"布道自由","stars":5,"category":"施术单元","mainAttrs":["意志"],"secondaryAttrs":["治疗效率"],"skillAttrs":["医疗"],image:"https://bbs.hycdn.cn/image/2025/12/19/4898765/4938b6f2ec089726e15365d5643abd24.png"},
{"id":19,"name":"迷失荒野","stars":5,"category":"施术单元","mainAttrs":["智识"],"secondaryAttrs":["电磁伤害"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/19/4898765/c9d2120f86a877cfd098d5368b567e9b.png"},
{"id":18,"name":"莫奈何","stars":5,"category":"施术单元","mainAttrs":["意志"],"secondaryAttrs":["终结技充能效率"],"skillAttrs":["昂扬"],image:"https://bbs.hycdn.cn/image/2025/12/19/4898765/d88adfb9abbbd0bb2dc4f8cc5f6081ec.png"},
{"id":17,"name":"悼亡诗","stars":5,"category":"施术单元","mainAttrs":["智识"],"secondaryAttrs":["攻击"],"skillAttrs":["夜幕"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/1fae00967359f5ce377d653319f63093.png"},
{"id":16,"name":"理性告别","stars":5,"category":"手铳","mainAttrs":["力量"],"secondaryAttrs":["灼热伤害"],"skillAttrs":["追袭"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/e4b151edf9b587ac9a3b75f979b7f488.png"},
{"id":15,"name":"O.B.J.迅极","stars":5,"category":"手铳","mainAttrs":["敏捷"],"secondaryAttrs":["终结技充能效率"],"skillAttrs":["迸发"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/8033f06c27cea64f753f91457adc6274.png"},
{"id":14,"name":"作品：众生","stars":5,"category":"手铳","mainAttrs":["敏捷"],"secondaryAttrs":["法术伤害"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/ee94bf8af3a6a5ec650a9080501772e4.png"},
{"id":13,"name":"向心之引","stars":5,"category":"长柄武器","mainAttrs":["意志"],"secondaryAttrs":["电磁伤害"],"skillAttrs":["压制"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/cfc5f22138e0ee0af9047e7d05be42b3.png"},
{"id":12,"name":"O.B.J.尖峰","stars":5,"category":"长柄武器","mainAttrs":["意志"],"secondaryAttrs":["物理伤害"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/8ffe428d0400cb3d78ec691757a1837e.png"},
{"id":11,"name":"嵌合正义","stars":5,"category":"长柄武器","mainAttrs":["力量"],"secondaryAttrs":["终结技充能效率"],"skillAttrs":["残暴"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/663ce7b26f57febda19b97c95dfa014e.png"},
{"id":10,"name":"O.B.J.重荷","stars":5,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["生命"],"skillAttrs":["效益"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/ec88a8b0d660b743d3adaf76713fb3f0.png"},
{"id":9,"name":"终点之声","stars":5,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["生命"],"skillAttrs":["医疗"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/cb0a7a607ef53fb880b4a02038cf3a54.png"},
{"id":8,"name":"古渠","stars":5,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["源石技艺"],"skillAttrs":["残暴"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/3c890c82d1a43d843ba135d08e603323.png"},
{"id":7,"name":"探骊","stars":5,"category":"双手剑","mainAttrs":["力量"],"secondaryAttrs":["终结技充能效率"],"skillAttrs":["迸发"],image:"https://bbs.hycdn.cn/image/2025/12/13/179550/f59210444eae33336b43b8648964dca3.png"},
{"id":6,"name":"仰止","stars":5,"category":"单手剑","mainAttrs":["敏捷"],"secondaryAttrs":["物理伤害"],"skillAttrs":["夜幕"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/4cd481900824a3e75a4519baf9956846.png"},
{"id":5,"name":"O.B.J.轻芒","stars":5,"category":"单手剑","mainAttrs":["敏捷"],"secondaryAttrs":["攻击"],"skillAttrs":["流转"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/25627c57e5593628b2bcd2dce02d41b6.png"},
{"id":4,"name":"十二问","stars":5,"category":"单手剑","mainAttrs":["敏捷"],"secondaryAttrs":["攻击"],"skillAttrs":["附术"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/799ee937d99ec7c66752b765bd7c839c.png"},
{"id":3,"name":"逐鳞3.0","stars":5,"category":"单手剑","mainAttrs":["力量"],"secondaryAttrs":["寒冷伤害"],"skillAttrs":["压制"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/848ff520db2f682bf91e2ff1216c88cc.png"},
{"id":2,"name":"坚城铸造者","stars":5,"category":"单手剑","mainAttrs":["智识"],"secondaryAttrs":["终结技充能效率"],"skillAttrs":["昂扬"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/0c6c8757a1ad4e75db4bf98810c8868a.png"},
{"id":1,"name":"钢铁余音","stars":5,"category":"单手剑","mainAttrs":["敏捷"],"secondaryAttrs":["物理伤害"],"skillAttrs":["巧技"],image:"https://bbs.hycdn.cn/image/2025/12/14/4898765/1b245cfa0cb252c208c4e91090626498.png"}],mainAttributes=["敏捷","力量","意志","智识","主能力值"],secondaryAttributes=["攻击","生命","物理伤害","灼热伤害","电磁伤害","寒冷伤害","自然伤害","暴击率","源石技艺","终结技充能效率","法术伤害","治疗效率"],skillAttributes=["强攻","压制","追袭","粉碎","昂扬","巧技","残暴","附术","医疗","切骨","迸发","夜幕","流转","效益"],weaponCategories=["单手剑","双手剑","长柄武器","手铳","施术单元"],regions=[{id:1,name:"枢纽区",mainAttrs:["敏捷","力量","意志","智识","主能力值"],secondaryAttrs:["攻击","灼热伤害","电磁伤害","寒冷伤害","自然伤害","源石技艺","终结技充能效率","法术伤害"],skillAttrs:["强攻","压制","追袭","粉碎","巧技","迸发","流转","效益"]},
{id:2,name:"源石研究园",mainAttrs:["敏捷","力量","意志","智识","主能力值"],secondaryAttrs:["攻击","物理伤害","电磁伤害","寒冷伤害","自然伤害","暴击率","终结技充能效率","法术伤害"],skillAttrs:["压制","追袭","昂扬","巧技","附术","医疗","切骨","效益"]},
{id:3,name:"矿脉源区",mainAttrs:["敏捷","力量","意志","智识","主能力值"],secondaryAttrs:["生命","物理伤害","灼热伤害","寒冷伤害","自然伤害","暴击率","源石技艺","治疗效率"],skillAttrs:["强攻","压制","巧技","残暴","附术","迸发","夜幕","效益"]},
{id:4,name:"供能高地",mainAttrs:["敏捷","力量","意志","智识","主能力值"],secondaryAttrs:["攻击","生命","物理伤害","灼热伤害","自然伤害","暴击率","源石技艺","治疗效率"],skillAttrs:["追袭","粉碎","昂扬","残暴","附术","医疗","切骨","流转"]},
{id:5,name:"武陵城",mainAttrs:["敏捷","力量","意志","智识","主能力值"],secondaryAttrs:["攻击","生命","电磁伤害","寒冷伤害","暴击率","终结技充能效率","法术伤害","治疗效率"],skillAttrs:["强攻","粉碎","残暴","医疗","切骨","迸发","夜幕","流转"]}],selectedMain=[],selectedSecondary=null,selectedSkill=null,selectedStar=null,selectedCategory=null,selectedRegion=null,isSearchMode=!0,searchKeyword="";function init(){renderMainAttributes(),renderCategoryFilter(),renderStarFilter(),renderRegionFilter(),renderSecondaryAttributes(),renderSkillAttributes(),filterWeapons()}function renderMainAttributes(){var n=document.getElementById("mainAttrs");n.innerHTML="",mainAttributes.forEach(function(e){var t=document.createElement("button");t.className="option-btn",t.textContent=e,t.onclick=function(){return toggleMainAttribute(e)},selectedMain.includes(e)&&t.classList.add("selected"),3<=selectedMain.length&&!selectedMain.includes(e)&&(t.disabled=!0),n.appendChild(t)}),updateMainBadge()}function renderCategoryFilter(){var n=document.getElementById("categoryFilter");n.innerHTML="",weaponCategories.forEach(function(e){var t=document.createElement("button");t.className="option-btn",t.textContent=e,t.onclick=function(){return toggleCategory(e)},selectedCategory===e&&t.classList.add("selected"),n.appendChild(t)})}function toggleCategory(e){selectedCategory=selectedCategory===e?null:e,renderCategoryFilter(),filterWeapons()}function renderStarFilter(){var n=document.getElementById("starFilter");n.innerHTML="";[6,5].forEach(function(e){var t=document.createElement("button");t.className="option-btn",t.innerHTML=e+"星",t.onclick=function(){return toggleStar(e)},selectedStar===e&&t.classList.add("selected"),n.appendChild(t)})}function toggleStar(e){selectedStar=selectedStar===e?null:e,renderStarFilter(),filterWeapons()}function renderRegionFilter(){var n=document.getElementById("regionFilter");n.innerHTML="",regions.forEach(function(e){var t=document.createElement("button");t.className="option-btn",t.textContent=e.name,t.onclick=function(){return toggleRegion(e)},selectedRegion===e&&t.classList.add("selected"),n.appendChild(t)})}function toggleRegion(e){selectedRegion=selectedRegion===e?null:e,renderRegionFilter(),filterWeapons()}function renderSecondaryAttributes(){var n=document.getElementById("secondaryAttrs");n.innerHTML="",secondaryAttributes.forEach(function(e){var t=document.createElement("button");t.className="option-btn",t.textContent=e,t.onclick=function(){return toggleSecondaryAttribute(e)},selectedSecondary===e&&t.classList.add("selected"),null!==selectedSkill&&(t.disabled=!0),n.appendChild(t)})}function renderSkillAttributes(){var n=document.getElementById("skillAttrs");n.innerHTML="",skillAttributes.forEach(function(e){var t=document.createElement("button");t.className="option-btn",t.textContent=e,t.onclick=function(){return toggleSkillAttribute(e)},selectedSkill===e&&t.classList.add("selected"),null!==selectedSecondary&&(t.disabled=!0),n.appendChild(t)})}function toggleMainAttribute(t){if(selectedMain.includes(t))selectedMain=selectedMain.filter(function(e){return e!==t});else if(isSearchMode)selectedMain=[t];else{if(!(selectedMain.length<3))return void alert("最多只能选择3个基础属性");selectedMain.push(t)}renderMainAttributes(),filterWeapons()}function toggleSecondaryAttribute(e){selectedSecondary=selectedSecondary===e?null:e,renderSecondaryAttributes(),updateSectionStyles(),filterWeapons()}function toggleSkillAttribute(e){selectedSkill=selectedSkill===e?null:e,renderSkillAttributes(),updateSectionStyles(),filterWeapons()}function toggleWeapon(n){weapons.forEach(function(e){var t;e.id===n&&(t=!0,isSearchMode?(e.mainAttrs.forEach(function(e){0===selectedMain.length&&(toggleMainAttribute(e),t=!1)}),e.secondaryAttrs.forEach(function(e){null===selectedSecondary&&(toggleSecondaryAttribute(e),t=!1)}),e.skillAttrs.forEach(function(e){null===selectedSkill&&(toggleSkillAttribute(e),t=!1)}),t&&(e.mainAttrs.forEach(function(e){toggleMainAttribute(e)}),e.secondaryAttrs.forEach(function(e){toggleSecondaryAttribute(e)}),e.skillAttrs.forEach(function(e){toggleSkillAttribute(e)}))):(e.mainAttrs.forEach(function(e){!selectedMain.includes(e)&&selectedMain.length<3&&(toggleMainAttribute(e),t=!1)}),null===selectedSecondary&&null===selectedSkill&&(Math.round(Math.random())?e.skillAttrs.forEach(function(e){return toggleSkillAttribute(e)}):e.secondaryAttrs.forEach(function(e){return toggleSecondaryAttribute(e)}),t=!1),t&&(e.mainAttrs.forEach(function(e){toggleMainAttribute(e)}),null!==selectedSecondary?e.secondaryAttrs.forEach(function(e){return toggleSecondaryAttribute(e)}):e.skillAttrs.forEach(function(e){return toggleSkillAttribute(e)}))))})}function toggleWeaponSecondary(e){isSearchMode||null===selectedSkill||toggleSkillAttribute(selectedSkill),toggleSecondaryAttribute(e)}function toggleWeaponSkill(e){isSearchMode||null===selectedSecondary||toggleSecondaryAttribute(selectedSecondary),toggleSkillAttribute(e)}function toggleSearchMode(){isSearchMode=!document.getElementById("searchModeSwitch").checked;var e=document.getElementById("searchInputContainer"),t=document.getElementById("searchInput");isSearchMode?(e.style.display="block",t.focus()):(e.style.display="none",t.value="",searchKeyword=""),isSearchMode&&1<selectedMain.length&&(selectedMain=[selectedMain[0]],renderMainAttributes()),isSearchMode||null===selectedSkill||null===selectedSecondary||(selectedSkill=null,renderSkillAttributes()),updateBadges(),updateMainBadge(),updateSectionStyles(),filterWeapons()}function handleSearchInput(){var e=document.getElementById("searchInput");searchKeyword=e.value,filterWeapons()}function updateMainBadge(){var e=isSearchMode?1:3;document.getElementById("mainBadge").textContent="已选 "+selectedMain.length+"/"+e}function updateSectionStyles(){var e=document.getElementById("secondaryFilter"),t=document.getElementById("skillFilter");isSearchMode?(e.classList.remove("section-disabled"),t.classList.remove("section-disabled")):null!==selectedSkill?(e.classList.add("section-disabled"),t.classList.remove("section-disabled")):null!==selectedSecondary?(e.classList.remove("section-disabled"),t.classList.add("section-disabled")):(e.classList.remove("section-disabled"),t.classList.remove("section-disabled")),updateBadges()}function updateBadges(){var e=document.getElementById("secondaryBadge"),t=document.getElementById("skillBadge");isSearchMode?(e.textContent=null!==selectedSecondary?"已选 1/1":"已选 0/1",t.textContent=null!==selectedSkill?"已选 1/1":"已选 0/1"):null!==selectedSecondary?(e.textContent="已选 1/1",t.textContent="已选 0/0"):null!==selectedSkill?(e.textContent="已选 0/0",t.textContent="已选 1/1"):(e.textContent="已选 0/1",t.textContent="已选 0/1")}function filterWeapons(){var t,e=weapons,n=(isSearchMode&&""!==searchKeyword.trim()&&(t=searchKeyword.trim().toLowerCase(),e=e.filter(function(e){return e.name.toLowerCase().includes(t)})),null!==selectedCategory&&(e=e.filter(function(e){return e.category===selectedCategory})),null!==selectedStar&&(e=e.filter(function(e){return e.stars===selectedStar})),e=null!==selectedRegion?e.filter(function(e){var t=e.mainAttrs.every(function(e){return selectedRegion.mainAttrs.includes(e)}),n=0===e.secondaryAttrs.length||e.secondaryAttrs.every(function(e){return selectedRegion.secondaryAttrs.includes(e)}),e=e.skillAttrs.every(function(e){return selectedRegion.skillAttrs.includes(e)});return t&&n&&e}):e);0<selectedMain.length&&(e=e.filter(function(t){return selectedMain.some(function(e){return t.mainAttrs.includes(e)})})),null!==selectedSecondary&&(e=e.filter(function(e){return e.secondaryAttrs.includes(selectedSecondary)}),n=n.filter(function(e){return e.secondaryAttrs.includes(selectedSecondary)})),null!==selectedSkill&&(e=e.filter(function(e){return e.skillAttrs.includes(selectedSkill)}),n=n.filter(function(e){return e.skillAttrs.includes(selectedSkill)})),renderResults(e),updateDisabledButtons(e,n)}function updateDisabledButtons(s,e){var n=new Set,r=new Set,l=new Set,a=new Set,i=new Set,o=new Set,c=(s.forEach(function(e){e.mainAttrs.forEach(function(e){return n.add(e)}),e.secondaryAttrs.forEach(function(e){return l.add(e)}),e.skillAttrs.forEach(function(e){return a.add(e)}),i.add(e.stars),o.add(e.category)}),e.forEach(function(e){e.mainAttrs.forEach(function(e){return r.add(e)})}),null),d=null;null!==selectedRegion&&(new Set(selectedRegion.mainAttrs),c=new Set(selectedRegion.secondaryAttrs),d=new Set(selectedRegion.skillAttrs)),document.querySelectorAll("#mainAttrs .option-btn").forEach(function(e){var t=e.textContent;selectedMain.includes(t)||!(isSearchMode&&1<=selectedMain.length)&&(!isSearchMode||n.has(t))&&(isSearchMode||!(3<=selectedMain.length))&&(null===selectedCategory&&null===selectedStar&&null===selectedSecondary&&null===selectedSkill&&null===selectedRegion||n.has(t)||r.has(t))?e.disabled=!1:e.disabled=!0}),document.querySelectorAll("#categoryFilter .option-btn").forEach(function(e){var t=e.textContent;selectedCategory===t||o.has(t)?e.disabled=!1:e.disabled=!0}),document.querySelectorAll("#starFilter .option-btn").forEach(function(e){var t=parseInt(e.textContent.replace("星",""));selectedStar===t||i.has(t)?e.disabled=!1:e.disabled=!0}),document.querySelectorAll("#secondaryAttrs .option-btn").forEach(function(e){var t=e.textContent,n=selectedSecondary===t;(!isSearchMode||""===searchKeyword.trim()||l.has(t)||n)&&(isSearchMode||null===selectedSkill)&&(n||(null===selectedRegion||c.has(t))&&l.has(t))?e.disabled=!1:e.disabled=!0}),document.querySelectorAll("#skillAttrs .option-btn").forEach(function(e){var t=e.textContent,n=selectedSkill===t;(!isSearchMode||""===searchKeyword.trim()||a.has(t)||n)&&(isSearchMode||null===selectedSecondary)&&(n||(null===selectedRegion||d.has(t))&&a.has(t))?e.disabled=!1:e.disabled=!0}),document.querySelectorAll("#regionFilter .option-btn").forEach(function(e){var r,t=e.textContent,n=selectedRegion&&selectedRegion.name===t;if(0===selectedMain.length&&null===selectedSecondary&&null===selectedSkill&&null===selectedRegion&&null===selectedStar&&""===searchKeyword.trim())e.disabled=!1;else if(n)e.disabled=!1;else{n=(r=regions.find(function(e){return e.name===t}))?(n=s.some(function(e){var t=e.mainAttrs.every(function(e){return r.mainAttrs.includes(e)}),n=0===e.secondaryAttrs.length||e.secondaryAttrs.every(function(e){return r.secondaryAttrs.includes(e)}),e=e.skillAttrs.every(function(e){return r.skillAttrs.includes(e)});return t&&n&&e}),void(e.disabled=!n)):(e.disabled=!0,{v:void 0});if("object"==typeof n)return n.v}})}function renderResults(t){var e,n=document.getElementById("resultsGrid");document.getElementById("resultCount").textContent=t.length,0===n.childNodes.length?(e=t.sort(function(e,t){return e.stars!==t.stars?t.stars-e.stars:t.id-e.id}),n.innerHTML=e.map(function(e){return'\n    <div id="'+e.id+'" class="weapon-card star-'+e.stars+'">\n        <div class="weapon-card-header" onclick="toggleWeapon('+e.id+')">\n            <div class="weapon-image">\n                <img src="'+e.image+'" alt="'+e.name+'" onerror="this.src=\'data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>⚔️</text></svg>\'">\n            </div>\n            <div class="weapon-header-info">\n                <div class="weapon-name">'+e.name+' </div>\n                <div class="weapon-category"><span class="category-badge">'+e.category+'</span> </div>\n            </div>\n\n        </div>\n        <div class="weapon-attrs">\n            <div class="attr-row" onclick="toggleMainAttribute(\''+e.mainAttrs[0]+'\')">\n                <span class="attr-label">基础属性：</span>\n                <span class="attr-values">'+e.mainAttrs.join("、")+"</span>\n            </div>\n            "+(0<e.secondaryAttrs.length?'\n                <div class="attr-row" onclick="toggleWeaponSecondary(\''+e.secondaryAttrs[0]+'\')">\n                    <span class="attr-label">附加属性：</span>\n                    <span class="attr-values">'+e.secondaryAttrs.join("、")+"</span>\n                </div>\n            ":"")+"\n            "+(0<e.skillAttrs.length?'\n                <div class="attr-row" onclick="toggleWeaponSkill(\''+e.skillAttrs[0]+'\')">\n                    <span class="attr-label">技能属性：</span>\n                    <span class="attr-values">'+e.skillAttrs.join("、")+"</span>\n                </div>\n            ":"")+"\n        </div>\n    </div>\n"}).join("")):weapons.forEach(function(e){t.includes(e)?document.getElementById(e.id).setAttribute("style",""):document.getElementById(e.id).setAttribute("style","display:none")})}function resetFilters(){selectedMain=[],selectedCategory=selectedRegion=selectedStar=selectedSkill=selectedSecondary=null,searchKeyword="";var e=document.getElementById("searchInput");e&&(e.value=""),renderMainAttributes(),renderCategoryFilter(),renderStarFilter(),renderRegionFilter(),renderSecondaryAttributes(),renderSkillAttributes(),updateSectionStyles(),filterWeapons()}init();
    </script>
</body>
</html>
